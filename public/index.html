<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link href="https://fonts.googleapis.com/css?family=Nunito:300,400,700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.2/css/all.css" integrity="sha384-oS3vJWv+0UjzBfQzYUhtDYW+Pj2yciDJxpsK1OYPAYjqT085Qq/1cq5FLXAZQ7Ay" crossorigin="anonymous">

    <title>DX DEPORTEXTREMO</title>

    <style>
      body {
        font-family: 'Nunito', sans-serif;
      }
    </style>
  </head>
  <body>
    <!--inicio menu-->
    <main class="container-fluid">
      <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
  <a class="navbar-brand" href="#">DeporteXtremo</a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#menu" aria-controls="menu" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <div class="collapse navbar-collapse" id="menu">
    <ul class="navbar-nav ml-lg-auto text-center">
      
     
      <li class="nav-item">
        <a class="nav-link" href="https://es.wikipedia.org/wiki/F%C3%BAtbol"><i class="fas fa-futbol"></i> Futbol</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://ar.nba.com/"><i class="icofont-basketball-hoop"></i> NBA</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://es.wikipedia.org/wiki/Boxeo"><i class="fas fa-hand-rock"></i> Bóxeo</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.bbc.com/sport/tennis"><i class="fas fa-table-tennis"></i> Tennis</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://es.wikipedia.org/wiki/Juegos_Ol%C3%ADmpicos"><i class="icofont-medal-sport"></i> JJOO</a>
      </li>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://es.wikipedia.org/wiki/F%C3%B3rmula_1"><i class="fas fa-table-tennis"></i> formula 1</a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="https://www.marca.com/motor/motogp.html"><i class="icofont-medal-sport"></i> Motog GP</a>
      </li>
    </ul>
   
  </div>
</nav>
<!--Incio Slider-->
<div id="slider" class="carousel slide" data-ride="carousel">
  <div class="carousel-inner">
    <div class="carousel-item active">
      <img src="img/juegos-olimpicos.jpg" class="d-block w-100" alt="...">
       <div class="carousel-caption d-none d-md-block bg-dark  w-100 position-static text-left p-3">
          <h2>Paris y Los Ángeles serán las próximas sedes de los Juegos Olímpicos</h2>
          
        </div>
    </div>
    <div class="carousel-item">
      <img src="img/juegos-olimpicos.jpg" class="d-block w-100" alt= ...">
      <div class="carousel-caption d-none d-md-block bg-dark w-100 position-static text-left p-3">
          <h2>Hazaña histórica:Ricciardo marcó el ritmo en los libres de Azerbaiyán</h2>
          
        </div>
    </div>
    <div class="carousel-item">
      <img src="img/juegos-olimpicos.jpg" class="d-block w-100" alt="...">
       <div class="carousel-caption d-none d-md-block bg-dark  w-100 position-static text-left p-3">
          <h2>En Córdoba arrancó la 1er etapa del 38° Rally de la Argentina</h2>
          
        </div>
    </div>
  </div>
  <a class="carousel-control-prev" href="#slider" role="button" data-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#slider" role="button" data-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>
<!--Fin Slider-->

<!--fin de menu-->
<main class="container-fluid">
  <!--Inicio Noticias-->
      <article class="row py-2 mx-3 border-bottom d-none noticia">

        <div class="col-12 col-md-4">
          <img src="{{imagen}}" class="img-fluid">
        </div>
        <div class="col-12 col-md-8">
          <h3>{{titulo}}</h3>
          <p>por <strong>{{autor}}</strong></p>
          <p>{{detalle}}</p>
        </div>
      </article>
  <!--fin noticia #1-->
</main>

    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script>
    <script>
    /*Manipulacion de elementos HTML*/
    let logo = document.querySelector(".navbar-brand")
    let links = document.querySelectorAll(".nav-link")
/*
    //ASI NO!
    links[0].onclick = validarOpcion
    links[1].onclick = validarOpcion
    links[2].onclick = validarOpcion
    links[3].onclick = validarOpcion
    links[4].onclick = validarOpcion
    links[4].onclick = validarOpcion
    links[6].onclick = validarOpcion
    
 */
    //for(CONTADOR;CONDICION;SECUENCIA)
    for(let i = 0;i <links.length; i++){
     links[i].onclick = validarOpcion

    }   
    //3) manupulacion  de comportmiento (eventos) 
    logo.onclick = cambiarLogo  

    window.onload =obtenerNoticias

     

    function validarOpcion(evento){
      event.preventDefault()

      let clickeado = evento.target;

      console.log("parametro magico es:")
      console. log(event)

      let rta =confirm(`estas seguro que desea ir a ${clickeado.innerText}?`)

      if ( rta ) {
        alert("OK, buen viaje ....") 
        window.location= clickeado.href 
      }
    }

    function cambiarLogo(){

      
        /*inicio cambiarLogo*/
      //1)manipulacion de contenido
    logo.innerHTML="DeporteXtremo <em>plus<em>"

    //2)manipulacion de extructura
    logo.style.color= "green"
    logo.style.fontSize= "32px"
    logo.classList.add("bg-light")
    logo.title ="Esto lo puso JS"
    
   

    
      } 

      function obtenerNoticias(){
        //debugger /esto es magico!!!!
        let ajax = new XMLHttpRequest()
        ajax.open("GET",  "https://api.rss2json.com/v1/api.json?rss_url=https%3A%2F%2Fwww.clarin.com%2Frss%2Fespectaculos%2Ftv%2F")
        //ajax.open("GET","https://api.sheety.co/af26aa2f-40e1-4bf3-95e4-23ae133fddaf")
        ajax.onload = function(){
          if( ajax.status == 200 ){ //-- respuesta exitosa!
            /*
            console.log( "ANTES DEL PARSEO" )
            console.log ( ajax.response )

            console.log ("despues de parseo")
            console.log (JSON.parse(ajax.response))
            */
            let noticias = JSON.parse(ajax.response)

            //console.table(noticias)

            noticias.items.forEach( function(noticia){
              /*
              console.log(`El titulo es:${noticia.titulo}`)
              console.log(`el autor es:${noticia.autor}`)
              console.log (`-----`)
              */
              let article = document.querySelector(".noticia").cloneNode(true)

              article.querySelector("h3").innerText = noticia.title
              article.querySelector("strong").innerText = noticia.author
              article.querySelector("p:nth-of-type(2)").innerText = noticia.description
              article.querySelector("img").src=noticia.enclosure.link
              
              article.classList.remove("d-none")

              console.log(article)

              document.querySelector("main").appendChild( article )


            })

          }
        }
        ajax.send()


      }   
  </script>
  </body>
</html>